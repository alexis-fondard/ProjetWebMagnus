"use strict";(self["webpackChunkprojetwebmagnus"]=self["webpackChunkprojetwebmagnus"]||[]).push([[41],{5489:function(e,r,l){l.d(r,{Z:function(){return i}});var t=l(9669),s=l.n(t),n=s().create({baseURL:"https://projet-web-magnus.herokuapp.com/",headers:{"Content-type":"application/json"}});class u{getAll(e){return n.get("/user",{params:{userCity:e}})}getAllCA(){return n.get("/user/CA")}getAllMembers(){return n.get("/user/members")}get(e){return n.get(`/user/${e}`)}create(e){return n.post("/user",e)}update(e,r){return n.put(`/user/${e}`,r)}delete(e){return n["delete"](`/user/${e}`)}}var i=new u},41:function(e,r,l){l.r(r),l.d(r,{default:function(){return R}});var t=l(6252),s=l(9963),n=l(3577);const u={class:"list row"},i={class:"col-md-8"},a={class:"input-group mb-3"},o={class:"input-group-append"},c={class:"col-md-6"},d=(0,t._)("h4",null,"Liste des utilisateurs",-1),_={class:"list-group"},g=["onClick"],p={class:"col-md-6"},U={key:0},h=(0,t._)("h4",null,"Utilisateur",-1),m=(0,t._)("label",null,[(0,t._)("strong",null,"Nom:")],-1),v=(0,t._)("label",null,[(0,t._)("strong",null,"Prénom:")],-1),b=(0,t._)("label",null,[(0,t._)("strong",null,"Mail:")],-1),w=(0,t._)("label",null,[(0,t._)("strong",null,"Membre du CA:")],-1),k=(0,t._)("label",null,[(0,t._)("strong",null,"Est membre:")],-1),C=(0,t._)("label",null,[(0,t._)("strong",null,"Ville:")],-1),y=(0,t._)("label",null,[(0,t._)("strong",null,"Numéro de téléphone:")],-1),f=(0,t._)("label",null,[(0,t._)("strong",null,"Mot de passe:")],-1),A=(0,t.Uk)("Modifier"),z={key:1},N=(0,t._)("br",null,null,-1),M=(0,t._)("p",null,"Veuillez sélectionner un utilisateur...",-1),x=[N,M];function D(e,r,l,N,M,D){const L=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("div",i,[(0,t._)("div",a,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Rechercher par nom de ville","onUpdate:modelValue":r[0]||(r[0]=e=>M.userCity=e)},null,512),[[s.nr,M.userCity]]),(0,t._)("div",o,[(0,t._)("button",{class:"btn btn-outline-secondary",type:"buttonr",onClick:r[1]||(r[1]=e=>D.searchUserCity())}," Rechercher ")])])]),(0,t._)("div",c,[d,(0,t._)("ul",_,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(M.users,((e,r)=>((0,t.wg)(),(0,t.iD)("li",{class:(0,n.C_)(["list-group-item",{active:r==M.currentIndex}]),key:r,onClick:l=>D.setActiveUser(e,r)},(0,n.zw)(e.userFirstName+" "+e.userLastName),11,g)))),128))])]),(0,t._)("div",p,[M.currentUser?((0,t.wg)(),(0,t.iD)("div",U,[h,(0,t._)("div",null,[m,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.userLastName),1)]),(0,t._)("div",null,[v,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.userFirstName),1)]),(0,t._)("div",null,[b,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.userEmail),1)]),(0,t._)("div",null,[w,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.isCA?"Oui":"Non"),1)]),(0,t._)("div",null,[k,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.isMember?"Oui":"Non"),1)]),(0,t._)("div",null,[C,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.userCity),1)]),(0,t._)("div",null,[y,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.phoneNumber),1)]),(0,t._)("div",null,[f,(0,t.Uk)(" "+(0,n.zw)(M.currentUser.pwdUser),1)]),(0,t.Wm)(L,{to:"/user/"+M.currentUser.id,class:"badge badge-warning"},{default:(0,t.w5)((()=>[A])),_:1},8,["to"])])):((0,t.wg)(),(0,t.iD)("div",z,x))])])}var L=l(5489),j={name:"users-list",data(){return{users:[],currentUser:null,currentIndex:-1,userCity:""}},methods:{retrieveUsers(){L.Z.getAll().then((e=>{this.users=e.data,console.log(e.data)})).catch((e=>{console.log(e)}))},refreshList(){this.retrieveUsers(),this.currentUser=null,this.currentIndex=-1},setActiveUser(e,r){this.currentUser=e,this.currentIndex=e?r:-1},searchUserCity(){L.Z.getAll(this.userCity).then((e=>{this.users=e.data,this.setActiveUser(null),console.log(e.data)})).catch((e=>{console.log(e)}))}},mounted(){this.retrieveUsers()}},I=l(3744);const Z=(0,I.Z)(j,[["render",D]]);var R=Z}}]);
//# sourceMappingURL=41.08aa7494.js.map