{"version":3,"file":"js/808.8da4cf5e.js","mappings":"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","sources":["webpack://projetwebmagnus/./src/http-common.js","webpack://projetwebmagnus/./src/services/UserDataService.js","webpack://projetwebmagnus/./src/components/User.vue","webpack://projetwebmagnus/./src/components/User.vue?1726"],"sourcesContent":["import axios from \"axios\";\r\nexport default axios.create({\r\n//   baseURL: \"http://localhost:3000/api\",\r\nbaseURL: process.env.VUE_APP_API_URL,  \r\nheaders: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n});","import http from \"../http-common\";\r\nclass UserDataService {\r\n  // getAll() {\r\n  //   return http.get(\"/user\");\r\n  // }\r\n  getAll(userCity) {\r\n    return http.get(\"/user\", {\r\n      params: {\r\n        userCity\r\n      }\r\n    });\r\n  }\r\n  getAllCA() {\r\n    return http.get(\"/user/CA\");\r\n  }\r\n  getAllMembers() {\r\n    return http.get(\"/user/members\");\r\n  }\r\n  get(id) {\r\n    return http.get(`/user/${id}`);\r\n  }\r\n  create(data) {\r\n    return http.post(\"/user\", data);\r\n  }\r\n  update(id, data) {\r\n    return http.put(`/user/${id}`, data);\r\n  }\r\n  delete(id) {\r\n    return http.delete(`/user/${id}`);\r\n  }\r\n  //   deleteAll() {\r\n  //     return http.delete(`/user`);\r\n  //   }\r\n  // findByTitle(userCity) {\r\n  //   return http.get(`/user?userCity=${userCity}`);\r\n  // }\r\n}\r\nexport default new UserDataService();","<template>\r\n  <div v-if=\"currentUser\" class=\"edit-form\">\r\n    <h4>User</h4>\r\n    <form>\r\n      <div class=\"form-group\">\r\n        <label for=\"userLastName\">Nom</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"userLastName\"\r\n          v-model=\"currentUser.userLastName\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"userFirstName\">Prénom</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"userFirstName\"\r\n          v-model=\"currentUser.userFirstName\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"userEmail\">Mail</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"userEmail\"\r\n          v-model=\"currentUser.userEmail\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"userCity\">Ville</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"userCity\"\r\n          v-model=\"currentUser.userCity\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"phoneNumber\">Numéro de téléphone</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"phoneNumber\"\r\n          v-model=\"currentUser.phoneNumber\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label><strong>Membre du CA:</strong></label>\r\n        {{ currentUser.isCA ? \"Oui\" : \"Non\" }}\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label><strong>Est membre:</strong></label>\r\n        {{ currentUser.isMember ? \"Oui\" : \"Non\" }}\r\n      </div>\r\n    </form>\r\n    <button class=\"badge badge-primary mr-2\"\r\n      v-if=\"currentUser.isCA\"\r\n      @click=\"updateCAStatus(false)\"\r\n    >\r\n      Enlever du CA\r\n    </button>\r\n    <button v-else class=\"badge badge-primary mr-2\"\r\n      @click=\"updateCAStatus(true)\"\r\n    >\r\n      Mettre au CA\r\n    </button>\r\n    <button class=\"badge badge-primary mr-2\"\r\n      v-if=\"currentUser.isMember\"\r\n      @click=\"updateMemberStatus(false)\"\r\n    >\r\n      Enlever des membres\r\n    </button>\r\n    <button v-else class=\"badge badge-primary mr-2\"\r\n      @click=\"updateMemberStatus(true)\"\r\n    >\r\n      Ajouter aux membres\r\n    </button>\r\n    <button class=\"badge badge-danger mr-2\"\r\n      @click=\"deleteUser\"\r\n    >\r\n      Supprimer\r\n    </button>\r\n    <button type=\"submit\" class=\"badge badge-success\"\r\n      @click=\"updateUser\"\r\n    >\r\n      Mettre à jour\r\n    </button>\r\n    <p>{{ message }}</p>\r\n  </div>\r\n  <div v-else>\r\n    <br />\r\n    <p>Cliquez sur un utilisateur...</p>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserDataService from \"../services/UserDataService\";\r\nexport default {\r\n  name: \"user-data\",\r\n  data() {\r\n    return {\r\n      currentUser: null,\r\n      message: ''\r\n    };\r\n  },\r\n  methods: {\r\n    getUser(id) {\r\n      UserDataService.get(id)\r\n        .then(response => {\r\n          this.currentUser = response.data;\r\n          console.log(response.data);\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    updateCAStatus(CAStatus) {\r\n      var data = {\r\n        id: this.currentUser.id,\r\n        isCA: CAStatus\r\n      };\r\n      UserDataService.update(this.currentUser.id, data)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.currentUser.isCA = CAStatus;\r\n          this.message = 'Le statut de membre du CA a été mis à jour avec succès !';\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    updateMemberStatus(MemberStatus) {\r\n      var data = {\r\n        id: this.currentUser.id,\r\n        isMember: MemberStatus\r\n      };\r\n      UserDataService.update(this.currentUser.id, data)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.currentUser.isMember = MemberStatus;\r\n          this.message = 'Le statut de membre a été mis à jour avec succès !';\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    updateUser() {\r\n      console.log(this.currentUser)\r\n      console.log(this.currentUser.userFirstName)\r\n      UserDataService.update(this.currentUser.id, this.currentUser)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.message = 'L\\'utilisateur a été mis à jour avec succès !';\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    deleteUser() {\r\n      UserDataService.delete(this.currentUser.id)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.$router.push({ name: \"users\" });\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.message = '';\r\n    this.getUser(this.$route.params.id);\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.edit-form {\r\n  max-width: 300px;\r\n  margin: auto;\r\n}\r\n</style>","import { render } from \"./User.vue?vue&type=template&id=2cd9e748\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\n\nimport \"./User.vue?vue&type=style&index=0&id=2cd9e748&lang=css\"\n\nimport exportComponent from \"D:\\\\1Second Bureau\\\\POLYTECH\\\\IG3\\\\S6\\\\ProjetWeb\\\\ProjetWebMagnusSITE\\\\melange\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["axios","baseURL","process","headers","UserDataService","getAll","userCity","http","params","getAllCA","getAllMembers","get","id","create","data","update","delete","class","_createElementVNode","for","_hoisted_18","_hoisted_19","$data","_createElementBlock","_hoisted_2","_hoisted_4","type","userLastName","$event","_hoisted_6","userFirstName","_hoisted_8","userEmail","_hoisted_10","_hoisted_12","phoneNumber","_hoisted_14","_toDisplayString","isCA","_hoisted_16","isMember","onClick","$options","_hoisted_17","_hoisted_20","name","currentUser","message","methods","getUser","then","response","this","console","log","catch","e","updateCAStatus","CAStatus","updateMemberStatus","MemberStatus","updateUser","deleteUser","$router","push","mounted","$route","__exports__","render"],"sourceRoot":""}